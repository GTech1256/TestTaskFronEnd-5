var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function o(){return Object.create(null)}function r(e){e.forEach(n)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(e,n,o){return e[1]?t({},t(n.$$scope.ctx,e[1](o?o(n):{}))):n.$$scope.ctx}function i(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function u(e,t){e.appendChild(t)}function l(e,t,n){e.insertBefore(t,n||null)}function d(e){e.parentNode.removeChild(e)}function f(e){return document.createElement(e)}function p(e){return document.createTextNode(e)}function h(){return p(" ")}function m(){return p("")}function g(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function $(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function v(e,t){t=""+t,e.data!==t&&(e.data=t)}let b;function y(e){b=e}const _=[],x=[],w=[],k=[],C=Promise.resolve();let j=!1;function E(e){w.push(e)}function O(){const e=new Set;do{for(;_.length;){const e=_.shift();y(e),R(e.$$)}for(;x.length;)x.pop()();for(let t=0;t<w.length;t+=1){const n=w[t];e.has(n)||(n(),e.add(n))}w.length=0}while(_.length);for(;k.length;)k.pop()();j=!1}function R(e){e.fragment&&(e.update(e.dirty),r(e.before_update),e.fragment.p(e.dirty,e.ctx),e.dirty=null,e.after_update.forEach(E))}const N=new Set;let S;function B(){S={r:0,c:[],p:S}}function U(){S.r||r(S.c),S=S.p}function L(e,t){e&&e.i&&(N.delete(e),e.i(t))}function A(e,t,n,o){if(e&&e.o){if(N.has(e))return;N.add(e),S.c.push(()=>{N.delete(e),o&&(n&&e.d(1),o())}),e.o(t)}}function P(e,t){e.d(1),t.delete(e.key)}function T(e,t,o){const{fragment:a,on_mount:c,on_destroy:i,after_update:u}=e.$$;a.m(t,o),E(()=>{const t=c.map(n).filter(s);i?i.push(...t):r(t),e.$$.on_mount=[]}),u.forEach(E)}function q(e,t){e.$$.fragment&&(r(e.$$.on_destroy),e.$$.fragment.d(t),e.$$.on_destroy=e.$$.fragment=null,e.$$.ctx={})}function D(e,t){e.$$.dirty||(_.push(e),j||(j=!0,C.then(O)),e.$$.dirty=o()),e.$$.dirty[t]=!0}function F(t,n,s,a,c,i){const u=b;y(t);const l=n.props||{},d=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:null};let f=!1;d.ctx=s?s(t,l,(e,n,o=n)=>(d.ctx&&c(d.ctx[e],d.ctx[e]=o)&&(d.bound[e]&&d.bound[e](o),f&&D(t,e)),n)):l,d.update(),f=!0,r(d.before_update),d.fragment=a(d.ctx),n.target&&(n.hydrate?d.fragment.l(function(e){return Array.from(e.childNodes)}(n.target)):d.fragment.c(),n.intro&&L(t.$$.fragment),T(t,n.target,n.anchor),O()),y(u)}class M{$destroy(){q(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(){}}var z=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}},H=Object.prototype.toString;function I(e){return"[object Array]"===H.call(e)}function Q(e){return null!==e&&"object"==typeof e}function G(e){return"[object Function]"===H.call(e)}function V(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),I(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.call(null,e[r],r,e)}var X={isArray:I,isArrayBuffer:function(e){return"[object ArrayBuffer]"===H.call(e)},isBuffer:function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:Q,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===H.call(e)},isFile:function(e){return"[object File]"===H.call(e)},isBlob:function(e){return"[object Blob]"===H.call(e)},isFunction:G,isStream:function(e){return Q(e)&&G(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:V,merge:function e(){var t={};function n(n,o){"object"==typeof t[o]&&"object"==typeof n?t[o]=e(t[o],n):t[o]=n}for(var o=0,r=arguments.length;o<r;o++)V(arguments[o],n);return t},deepMerge:function e(){var t={};function n(n,o){"object"==typeof t[o]&&"object"==typeof n?t[o]=e(t[o],n):t[o]="object"==typeof n?e({},n):n}for(var o=0,r=arguments.length;o<r;o++)V(arguments[o],n);return t},extend:function(e,t,n){return V(t,(function(t,o){e[o]=n&&"function"==typeof t?z(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}};function J(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var K=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(X.isURLSearchParams(t))o=t.toString();else{var r=[];X.forEach(t,(function(e,t){null!=e&&(X.isArray(e)?t+="[]":e=[e],X.forEach(e,(function(e){X.isDate(e)?e=e.toISOString():X.isObject(e)&&(e=JSON.stringify(e)),r.push(J(t)+"="+J(e))})))})),o=r.join("&")}if(o){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e};function W(){this.handlers=[]}W.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},W.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},W.prototype.forEach=function(e){X.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Y=W,Z=function(e,t,n){return X.forEach(n,(function(n){e=n(e,t)})),e},ee=function(e){return!(!e||!e.__CANCEL__)},te=function(e,t){X.forEach(e,(function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])}))},ne=function(e,t,n,o,r){return function(e,t,n,o,r){return e.config=t,n&&(e.code=n),e.request=o,e.response=r,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}(new Error(e),t,n,o,r)},oe=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],re=X.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=o(window.location.href),function(t){var n=X.isString(t)?o(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},se=X.isStandardBrowserEnv()?{write:function(e,t,n,o,r,s){var a=[];a.push(e+"="+encodeURIComponent(t)),X.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),X.isString(o)&&a.push("path="+o),X.isString(r)&&a.push("domain="+r),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},ae=function(e){return new Promise((function(t,n){var o=e.data,r=e.headers;X.isFormData(o)&&delete r["Content-Type"];var s=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",c=e.auth.password||"";r.Authorization="Basic "+btoa(a+":"+c)}if(s.open(e.method.toUpperCase(),K(e.url,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,s.onreadystatechange=function(){if(s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var o,r,a,c,i,u="getAllResponseHeaders"in s?(o=s.getAllResponseHeaders(),i={},o?(X.forEach(o.split("\n"),(function(e){if(c=e.indexOf(":"),r=X.trim(e.substr(0,c)).toLowerCase(),a=X.trim(e.substr(c+1)),r){if(i[r]&&oe.indexOf(r)>=0)return;i[r]="set-cookie"===r?(i[r]?i[r]:[]).concat([a]):i[r]?i[r]+", "+a:a}})),i):i):null,l={data:e.responseType&&"text"!==e.responseType?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:u,config:e,request:s};!function(e,t,n){var o=n.config.validateStatus;!o||o(n.status)?e(n):t(ne("Request failed with status code "+n.status,n.config,null,n.request,n))}(t,n,l),s=null}},s.onabort=function(){s&&(n(ne("Request aborted",e,"ECONNABORTED",s)),s=null)},s.onerror=function(){n(ne("Network Error",e,null,s)),s=null},s.ontimeout=function(){n(ne("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",s)),s=null},X.isStandardBrowserEnv()){var i=se,u=(e.withCredentials||re(e.url))&&e.xsrfCookieName?i.read(e.xsrfCookieName):void 0;u&&(r[e.xsrfHeaderName]=u)}if("setRequestHeader"in s&&X.forEach(r,(function(e,t){void 0===o&&"content-type"===t.toLowerCase()?delete r[t]:s.setRequestHeader(t,e)})),e.withCredentials&&(s.withCredentials=!0),e.responseType)try{s.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){s&&(s.abort(),n(e),s=null)})),void 0===o&&(o=null),s.send(o)}))},ce={"Content-Type":"application/x-www-form-urlencoded"};function ie(e,t){!X.isUndefined(e)&&X.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var ue,le={adapter:("undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)?ue=ae:"undefined"!=typeof XMLHttpRequest&&(ue=ae),ue),transformRequest:[function(e,t){return te(t,"Accept"),te(t,"Content-Type"),X.isFormData(e)||X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)?e:X.isArrayBufferView(e)?e.buffer:X.isURLSearchParams(e)?(ie(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):X.isObject(e)?(ie(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};le.headers={common:{Accept:"application/json, text/plain, */*"}},X.forEach(["delete","get","head"],(function(e){le.headers[e]={}})),X.forEach(["post","put","patch"],(function(e){le.headers[e]=X.merge(ce)}));var de=le;function fe(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var pe=function(e){var t,n,o;return fe(e),e.baseURL&&(o=e.url,!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(o))&&(e.url=(t=e.baseURL,(n=e.url)?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t)),e.headers=e.headers||{},e.data=Z(e.data,e.headers,e.transformRequest),e.headers=X.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),X.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||de.adapter)(e).then((function(t){return fe(e),t.data=Z(t.data,t.headers,e.transformResponse),t}),(function(t){return ee(t)||(fe(e),t&&t.response&&(t.response.data=Z(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},he=function(e,t){t=t||{};var n={};return X.forEach(["url","method","params","data"],(function(e){void 0!==t[e]&&(n[e]=t[e])})),X.forEach(["headers","auth","proxy"],(function(o){X.isObject(t[o])?n[o]=X.deepMerge(e[o],t[o]):void 0!==t[o]?n[o]=t[o]:X.isObject(e[o])?n[o]=X.deepMerge(e[o]):void 0!==e[o]&&(n[o]=e[o])})),X.forEach(["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"],(function(o){void 0!==t[o]?n[o]=t[o]:void 0!==e[o]&&(n[o]=e[o])})),n};function me(e){this.defaults=e,this.interceptors={request:new Y,response:new Y}}me.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=he(this.defaults,e)).method=e.method?e.method.toLowerCase():"get";var t=[pe,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},me.prototype.getUri=function(e){return e=he(this.defaults,e),K(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},X.forEach(["delete","get","head","options"],(function(e){me.prototype[e]=function(t,n){return this.request(X.merge(n||{},{method:e,url:t}))}})),X.forEach(["post","put","patch"],(function(e){me.prototype[e]=function(t,n,o){return this.request(X.merge(o||{},{method:e,url:t,data:n}))}}));var ge=me;function $e(e){this.message=e}$e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},$e.prototype.__CANCEL__=!0;var ve=$e;function be(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new ve(e),t(n.reason))}))}be.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},be.source=function(){var e;return{token:new be((function(t){e=t})),cancel:e}};var ye=be;function _e(e){var t=new ge(e),n=z(ge.prototype.request,t);return X.extend(n,ge.prototype,t),X.extend(n,t),n}var xe=_e(de);xe.Axios=ge,xe.create=function(e){return _e(he(xe.defaults,e))},xe.Cancel=ve,xe.CancelToken=ye,xe.isCancel=ee,xe.all=function(e){return Promise.all(e)},xe.spread=function(e){return function(t){return e.apply(null,t)}};var we=xe,ke=xe;we.default=ke;var Ce=we;const je=[];function Ee(t,n=e){let o;const r=[];function s(e){if(a(t,e)&&(t=e,o)){const e=!je.length;for(let e=0;e<r.length;e+=1){const n=r[e];n[1](),je.push(n,t)}if(e){for(let e=0;e<je.length;e+=2)je[e][0](je[e+1]);je.length=0}}}return{set:s,update:function(e){s(e(t))},subscribe:function(a,c=e){const i=[a,c];return r.push(i),1===r.length&&(o=n(s)||e),a(t),()=>{const e=r.indexOf(i);-1!==e&&r.splice(e,1),0===r.length&&(o(),o=null)}}}}const Oe=Ee(!1),Re=Ee(!1);var Ne=Ee({});function Se(t){var n,o,r,s,a,c,i,m,b,y,_,x,w,k,C,j,E,O,R,N,S,B,U,L=t.good.name+"",A=t.good.price[Be].toFixed(2)+"",P=function(e){switch(e){case"USD":return"$";case"EUR":return"€";default:return"₽"}}(Be)+"";return{c(){n=f("article"),o=f("header"),r=f("h2"),s=p(L),a=h(),c=f("div"),i=f("p"),(m=f("span")).textContent="Осталось:",b=h(),y=p(t.localQuantity),_=p(" шт."),x=h(),w=f("p"),(k=f("span")).textContent="Цена:",C=h(),j=p(A),E=h(),O=p(P),R=h(),N=f("footer"),(S=f("button")).textContent="Добавить в корзину",$(r,"class","good__title svelte-wu0d9v"),$(o,"class","good__header svelte-wu0d9v"),$(m,"class","good__text-wrap svelte-wu0d9v"),$(i,"class","good__text svelte-wu0d9v"),$(k,"class","good__text-wrap svelte-wu0d9v"),$(w,"class","good__text svelte-wu0d9v"),$(c,"class","good__stats svelte-wu0d9v"),$(S,"class","good__add-btn svelte-wu0d9v"),$(N,"class","good__footer svelte-wu0d9v"),$(n,"class",B="good "+t.$$props.class+" "+(t.localQuantity>0?"":"good_out-of")+" svelte-wu0d9v"),U=g(S,"click",t.addNewGoodInBasket)},m(e,t){l(e,n,t),u(n,o),u(o,r),u(r,s),u(n,a),u(n,c),u(c,i),u(i,m),u(i,b),u(i,y),u(i,_),u(c,x),u(c,w),u(w,k),u(w,C),u(w,j),u(w,E),u(w,O),u(n,R),u(n,N),u(N,S)},p(e,t){e.good&&L!==(L=t.good.name+"")&&v(s,L),e.localQuantity&&v(y,t.localQuantity),e.good&&A!==(A=t.good.price[Be].toFixed(2)+"")&&v(j,A),(e.$$props||e.localQuantity)&&B!==(B="good "+t.$$props.class+" "+(t.localQuantity>0?"":"good_out-of")+" svelte-wu0d9v")&&$(n,"class",B)},i:e,o:e,d(e){e&&d(n),U()}}}const Be="RUB";function Ue(e,n,o){let r={};Ne.subscribe(e=>{}),Ne.subscribe(e=>{o("basketObject",r=e)});let s,{good:a={_id:0,name:"",price:{EUR:0,RUB:0,USD:0},quantity:0}}=n;return e.$set=e=>{o("$$props",n=t(t({},n),e)),"good"in e&&o("good",a=e.good)},e.$$.update=(e={good:1,basketObject:1})=>{(e.good||e.basketObject)&&o("localQuantity",s=a.quantity-(r[a._id]?r[a._id].count_in_basket:0))},{good:a,addNewGoodInBasket:function(){r[a._id]?o("basketObject",r[a._id].count_in_basket++,r):o("basketObject",r[a._id]=Object.assign({},a,{count_in_basket:1}),r),Ne.set(r)},localQuantity:s,$$props:n,$$props:n=i(n)}}class Le extends M{constructor(e){super(),F(this,e,Ue,Se,a,["good"])}}function Ae(t){var n,o,r,s;return{c(){n=f("button"),o=p("Подсчитать"),$(n,"class",r="btn "+t.$$props.class+" svelte-5wl1e6"),$(n,"type","button"),s=g(n,"click",t.click_handler)},m(e,t){l(e,n,t),u(n,o)},p(e,t){e.$$props&&r!==(r="btn "+t.$$props.class+" svelte-5wl1e6")&&$(n,"class",r)},i:e,o:e,d(e){e&&d(n),s()}}}function Pe(e,n,o){Ne.subscribe(e=>{});return e.$set=e=>{o("$$props",n=t(t({},n),e))},{$$props:n,click_handler:()=>Re.set(!0),$$props:n=i(n)}}class Te extends M{constructor(e){super(),F(this,e,Pe,Ae,a,[])}}function qe(t){var n,o,r,s,a,c;return{c(){n=f("div"),o=f("h1"),r=p(t.titleName),s=h(),(a=f("button")).innerHTML='<span class="header__backet-text svelte-1dkj8fi">\n\t\t\t      Корзина\n\t\t\t    </span> <span class="header__basket-icon svelte-1dkj8fi"><svg class="header__basket-svg" width="24" height="30" viewBox="50 0 410 500"><path d="M420.8 211.761l-290.2-.051-12.164-41.877c-1.813-6.242-6.839-11.175-13.116-12.873l-42.57-11.513c-1.604-.432-3.253-.652-4.902-.652-8.448 0-15.89 5.702-18.098 13.863-1.308 4.835-.653 9.894 1.842 14.237 2.495 4.344 6.532 7.457 11.368 8.764l32.395 8.76 65.766 237.212c-9.368 4.621-15.441 14.199-15.441 24.861 0 15.291 12.44 27.732 27.732 27.732s27.733-12.441 27.733-27.732c0-.361-.007-.721-.021-1.08h133.879c-.016.359-.021.719-.021 1.08 0 15.291 12.439 27.732 27.731 27.732s27.733-12.441 27.733-27.732c0-14.055-10.687-25.838-24.36-27.52-33.275-5.375-169.084-11.941-169.084-11.941l-4.461-17.455H351.99c8.663 0 16.366-5.822 18.732-14.156l36.619-128.996H420.8c11.229 0 20.33-9.105 20.33-20.333.002-11.228-9.1-20.33-20.33-20.33zM204.969 352.408h-31.764c-.868-.017-2.143.184-2.725-1.859-.737-2.594-1.772-6.159-1.772-6.159l-24.893-87.692c-.122-.426-.034-.895.233-1.248.269-.356.694-.569 1.14-.569h38.604c.672 0 1.245.459 1.391 1.116l21.055 94.279.076.289c.04.131.06.271.06.416.001.778-.628 1.415-1.405 1.427zm81.061-95.791l-17.156 94.676c-.146.656-.719 1.115-1.392 1.115h-23.958c-.675 0-1.247-.459-1.395-1.117l-17.155-94.676c-.095-.422.007-.859.28-1.201.271-.34.678-.535 1.112-.535h58.27c.437 0 .84.195 1.114.537.273.34.374.777.28 1.201zm81.159.08l-26.876 94.672c-.173.611-.738 1.039-1.372 1.039h-32.87c-.437 0-.841-.195-1.113-.533-.272-.342-.374-.781-.279-1.205l21.142-94.674c.144-.647.729-1.117 1.394-1.117h38.604c.444 0 .87.213 1.137.568.265.355.353.823.233 1.25z"></path><path class="header__basket-icon-arrow svelte-1dkj8fi" d="M253.147 185.853c3.932 6.797 14.071 6.78 17.988-.012l49.671-74.677c1.997-3.468 1.81-7.883-.481-11.159-2.173-3.107-5.54-4.42-9.223-4.416-3.642.002-7.284.002-10.924.004l-17.239.013V20.84c0-11.511-9.331-20.84-20.843-20.84-11.511 0-20.842 9.329-20.842 20.84v74.791l-12.877.009-16.022.013c-7.839.002-12.917 8.777-8.983 15.587l49.775 74.613z"></path></svg></span>',$(o,"class","header__title"),$(a,"class","header__backet svelte-1dkj8fi"),$(n,"class","header svelte-1dkj8fi"),c=g(a,"click",t.click_handler)},m(e,t){l(e,n,t),u(n,o),u(o,r),u(n,s),u(n,a)},p(e,t){e.titleName&&v(r,t.titleName)},i:e,o:e,d(e){e&&d(n),c()}}}function De(e,t,n){let{titleName:o="Заголовок, который меняется через props"}=t;return e.$set=e=>{"titleName"in e&&n("titleName",o=e.titleName)},{titleName:o,click_handler:()=>Oe.update(e=>!e)}}class Fe extends M{constructor(e){super(),F(this,e,De,qe,a,["titleName"])}}function Me(e){var n,o,r,s,a,i,p;document.body.addEventListener("keydown",ze);const m=e.$$slots.default,v=function(e,t,n){if(e){const o=c(e,t,n);return e[0](o)}}(m,e,null);return{c(){n=h(),o=f("div"),v&&v.c(),r=h(),(s=f("button")).textContent="Закрыть окно",$(s,"class","popup__close-button svelte-1xhyxrx"),$(s,"type","button"),$(o,"class",a="popup "+e.$$props.class+" svelte-1xhyxrx"),p=g(s,"click",e.onCloseClick)},l(e){v&&v.l(div_nodes)},m(e,t){l(e,n,t),l(e,o,t),v&&v.m(o,null),u(o,r),u(o,s),i=!0},p(e,n){v&&v.p&&e.$$scope&&v.p(function(e,n,o,r){return e[1]?t({},t(n.$$scope.changed||{},e[1](r?r(o):{}))):n.$$scope.changed||{}}(m,n,e,null),c(m,n,null)),i&&!e.$$props||a===(a="popup "+n.$$props.class+" svelte-1xhyxrx")||$(o,"class",a)},i(e){i||(L(v,e),i=!0)},o(e){A(v,e),i=!1},d(e){document.body.removeEventListener("keydown",ze),e&&(d(n),d(o)),v&&v.d(e),p()}}}function ze(e){27===e.keyCode&&basketPopupStore.set(!1)}function He(e,n,o){let{onCloseClick:r=(()=>{})}=n,{$$slots:s={},$$scope:a}=n;return e.$set=e=>{o("$$props",n=t(t({},n),e)),"onCloseClick"in e&&o("onCloseClick",r=e.onCloseClick),"$$scope"in e&&o("$$scope",a=e.$$scope)},{onCloseClick:r,$$props:n,$$props:n=i(n),$$slots:s,$$scope:a}}class Ie extends M{constructor(e){super(),F(this,e,He,Me,a,["onCloseClick"])}}function Qe(e,t,n){const o=Object.create(e);return o.item=t[n],o}function Ge(e){var t;return{c(){(t=f("p")).textContent="Корзина пуста"},m(e,n){l(e,t,n)},d(e){e&&d(t)}}}function Ve(e,t){var n,o,r,s,a,c,i,m,b,y,_,x,w,k=t.item.name+"",C=t.item.count_in_basket+"";return{key:e,first:null,c(){n=f("div"),o=f("p"),r=p(k),a=h(),c=f("p"),i=p("в корзине "),m=p(C),b=p(" шт."),y=h(),(_=f("button")).textContent="Удалить из корзины",x=h(),$(o,"class","basket__item-name svelte-14guj3"),$(o,"title",s=t.item.name),$(_,"class","basket__remove-btn svelte-14guj3"),$(_,"type","button"),$(n,"class","basket__item svelte-14guj3"),w=g(_,"click",t.removeGoodFromBasketStore(t.item)),this.first=n},m(e,t){l(e,n,t),u(n,o),u(o,r),u(n,a),u(n,c),u(c,i),u(c,m),u(c,b),u(n,y),u(n,_),u(n,x)},p(e,n){t=n,e.basketObject&&k!==(k=t.item.name+"")&&v(r,k),e.basketObject&&s!==(s=t.item.name)&&$(o,"title",s),e.basketObject&&C!==(C=t.item.count_in_basket+"")&&v(m,C)},d(e){e&&d(n),w()}}}function Xe(t){var n,o=[],r=new Map;let s=Object.values(t.basketObject);const a=e=>e.item._id;for(let e=0;e<s.length;e+=1){let n=Qe(t,s,e),c=a(n);r.set(c,o[e]=Ve(c,n))}let c=null;return s.length||(c=Ge()).c(),{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=m()},m(e,t){for(let n=0;n<o.length;n+=1)o[n].m(e,t);l(e,n,t),c&&c.m(e,t)},p(e,t){const s=Object.values(t.basketObject);o=function(e,t,n,o,r,s,a,c,i,u,l,d){let f=e.length,p=s.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],$=new Map,v=new Map;for(h=p;h--;){const e=d(r,s,h),c=n(e);let i=a.get(c);i?o&&i.p(t,e):(i=u(c,e)).c(),$.set(c,g[h]=i),c in m&&v.set(c,Math.abs(h-m[c]))}const b=new Set,y=new Set;function _(e){L(e,1),e.m(c,l),a.set(e.key,e),l=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],o=t.key,r=n.key;t===n?(l=t.first,f--,p--):$.has(r)?!a.has(o)||b.has(o)?_(t):y.has(r)?f--:v.get(o)>v.get(r)?(y.add(o),_(t)):(b.add(r),f--):(i(n,a),f--)}for(;f--;){const t=e[f];$.has(t.key)||i(t,a)}for(;p;)_(g[p-1]);return g}(o,e,a,1,t,s,r,n.parentNode,P,Ve,n,Qe),s.length?c&&(c.d(1),c=null):c||((c=Ge()).c(),c.m(n.parentNode,n))},i:e,o:e,d(e){for(let t=0;t<o.length;t+=1)o[t].d(e);e&&d(n),c&&c.d(e)}}}function Je(e,t,n){let o={};return Ne.subscribe(e=>{n("basketObject",o=e)}),{basketObject:o,removeGoodFromBasketStore:function(e){return()=>{n("basketObject",o[e._id].count_in_basket--,o),0===o[e._id].count_in_basket&&delete o[e._id],Ne.set(o)}}}}class Ke extends M{constructor(e){super(),F(this,e,Je,Xe,a,[])}}function We(e){var t,n,o,r,s,a,c,i,m,g,$,b=e.result.USD.toFixed(2)+"",y=e.result.RUB.toFixed(2)+"",_=e.result.EUR.toFixed(2)+"";return{c(){t=f("p"),n=p("USD: "),o=p(b),r=h(),s=f("p"),a=p("RUB: "),c=p(y),i=h(),m=f("p"),g=p("EUR: "),$=p(_)},m(e,d){l(e,t,d),u(t,n),u(t,o),l(e,r,d),l(e,s,d),u(s,a),u(s,c),l(e,i,d),l(e,m,d),u(m,g),u(m,$)},p(e,t){e.result&&b!==(b=t.result.USD.toFixed(2)+"")&&v(o,b),e.result&&y!==(y=t.result.RUB.toFixed(2)+"")&&v(c,y),e.result&&_!==(_=t.result.EUR.toFixed(2)+"")&&v($,_)},d(e){e&&(d(t),d(r),d(s),d(i),d(m))}}}function Ye(t){var n;return{c(){(n=f("p")).textContent="Ошибка при загузке. Подробности в консоли"},m(e,t){l(e,n,t)},p:e,d(e){e&&d(n)}}}function Ze(t){var n;return{c(){(n=f("p")).textContent="Загрузка..."},m(e,t){l(e,n,t)},p:e,d(e){e&&d(n)}}}function et(t){var n;function o(e,t){return t.isLoaded?t.isError?Ye:We:Ze}var r=o(0,t),s=r(t);return{c(){s.c(),n=m()},m(e,t){s.m(e,t),l(e,n,t)},p(e,t){r===(r=o(0,t))&&s?s.p(e,t):(s.d(1),(s=r(t))&&(s.c(),s.m(n.parentNode,n)))},i:e,o:e,d(e){s.d(e),e&&d(n)}}}function tt(e,t,n){let o=!1,r=!1,s={};Ne.subscribe(e=>{s=e});let a={USD:0,RUB:0,EUR:0};var c;return(c=Object.values(s).map(e=>({_id:e._id,count:e.count_in_basket})),Ce({method:"post",url:"api/v1/conversion",data:c}).then(({data:e})=>e)).then(e=>{n("result",a=e),n("isLoaded",r=!0)}).catch(e=>{console.log(e),n("isLoaded",r=!0),n("isError",o=!0)}),{isError:o,isLoaded:r,result:a}}class nt extends M{constructor(e){super(),F(this,e,tt,et,a,[])}}function ot(e,t,n){const o=Object.create(e);return o.good=t[n],o.each_value=t,o.good_index=n,o}function rt(e){var t;function n(e,t){return t.goods.isLoaded?t.goods.isError?at:st:ct}var o=n(0,e),r=o(e);return{c(){r.c(),t=m()},m(e,n){r.m(e,n),l(e,t,n)},p(e,s){o!==(o=n(0,s))&&(r.d(1),(r=o(s))&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&d(t)}}}function st(e){var t;return{c(){(t=f("h2")).textContent="Товаров нет",$(t,"class","content__plug svelte-17h7bs8")},m(e,n){l(e,t,n)},d(e){e&&d(t)}}}function at(e){var t;return{c(){(t=f("h2")).textContent="Ошибка при загрузке товара. Подробности в консоли",$(t,"class","content__plug svelte-17h7bs8")},m(e,n){l(e,t,n)},d(e){e&&d(t)}}}function ct(e){var t;return{c(){(t=f("h2")).textContent="Загрузка...",$(t,"class","content__plug svelte-17h7bs8")},m(e,n){l(e,t,n)},d(e){e&&d(t)}}}function it(e){var t,n;function o(n){var o;e.good_good_binding.call(null,n,e),t=!0,o=()=>t=!1,k.push(o)}let r={class:"content__item"};void 0!==e.good&&(r.good=e.good);var s=new Le({props:r});return x.push(()=>(function(e,t,n){-1!==e.$$.props.indexOf(t)&&(e.$$.bound[t]=n,n(e.$$.ctx[t]))})(s,"good",o)),{c(){s.$$.fragment.c()},m(e,t){T(s,e,t),n=!0},p(n,o){e=o;var r={};!t&&n.goods&&(r.good=e.good),s.$set(r)},i(e){n||(L(s.$$.fragment,e),n=!0)},o(e){A(s.$$.fragment,e),n=!1},d(e){q(s,e)}}}function ut(e){var t,n=new Te({props:{class:"content__send-btn"}});return{c(){n.$$.fragment.c()},m(e,o){T(n,e,o),t=!0},i(e){t||(L(n.$$.fragment,e),t=!0)},o(e){A(n.$$.fragment,e),t=!1},d(e){q(n,e)}}}function lt(e){var t,n=new Ke({});return{c(){n.$$.fragment.c()},m(e,o){T(n,e,o),t=!0},i(e){t||(L(n.$$.fragment,e),t=!0)},o(e){A(n.$$.fragment,e),t=!1},d(e){q(n,e)}}}function dt(e){var t,n=new Ie({props:{class:"popup_open",onCloseClick:e.func_1,$$slots:{default:[ft]},$$scope:{ctx:e}}});return{c(){n.$$.fragment.c()},m(e,o){T(n,e,o),t=!0},p(e,t){var o={};e.$$scope&&(o.$$scope={changed:e,ctx:t}),n.$set(o)},i(e){t||(L(n.$$.fragment,e),t=!0)},o(e){A(n.$$.fragment,e),t=!1},d(e){q(n,e)}}}function ft(e){var t,n=new nt({});return{c(){n.$$.fragment.c()},m(e,o){T(n,e,o),t=!0},i(e){t||(L(n.$$.fragment,e),t=!0)},o(e){A(n.$$.fragment,e),t=!1},d(e){q(n,e)}}}function pt(e){var t,n,o,r,s,a,c,i,p,g=new Fe({props:{titleName:"Товары"}});let v=e.goods.data,b=[];for(let t=0;t<v.length;t+=1)b[t]=it(ot(e,v,t));const y=e=>A(b[e],1,1,()=>{b[e]=null});let _=null;v.length||(_=rt(e)).c();var x=e.goods.isLoaded&&!e.goods.isError&&ut(),w=new Ie({props:{class:e.isOpenBasketPopup?"popup_open":"",onCloseClick:e.func,$$slots:{default:[lt]},$$scope:{ctx:e}}}),k=e.isOpenResultPopup&&dt(e);return{c(){t=f("section"),g.$$.fragment.c(),n=h(),o=f("div");for(let e=0;e<b.length;e+=1)b[e].c();r=h(),s=f("div"),x&&x.c(),a=h(),w.$$.fragment.c(),c=h(),k&&k.c(),i=m(),$(o,"class","content__items svelte-17h7bs8"),$(t,"class","content svelte-17h7bs8")},m(e,d){l(e,t,d),T(g,t,null),u(t,n),u(t,o);for(let e=0;e<b.length;e+=1)b[e].m(o,null);_&&_.m(o,null),u(t,r),u(t,s),x&&x.m(s,null),l(e,a,d),T(w,e,d),l(e,c,d),k&&k.m(e,d),l(e,i,d),p=!0},p(e,t){if(e.goods){let n;for(v=t.goods.data,n=0;n<v.length;n+=1){const r=ot(t,v,n);b[n]?(b[n].p(e,r),L(b[n],1)):(b[n]=it(r),b[n].c(),L(b[n],1),b[n].m(o,null))}for(B(),n=v.length;n<b.length;n+=1)y(n);U()}!v.length&&_?_.p(e,t):v.length?_&&(_.d(1),_=null):((_=rt(t)).c(),_.m(o,null)),t.goods.isLoaded&&!t.goods.isError?x?L(x,1):((x=ut()).c(),L(x,1),x.m(s,null)):x&&(B(),A(x,1,1,()=>{x=null}),U());var n={};e.isOpenBasketPopup&&(n.class=t.isOpenBasketPopup?"popup_open":""),e.$$scope&&(n.$$scope={changed:e,ctx:t}),w.$set(n),t.isOpenResultPopup?k?(k.p(e,t),L(k,1)):((k=dt(t)).c(),L(k,1),k.m(i.parentNode,i)):k&&(B(),A(k,1,1,()=>{k=null}),U())},i(e){if(!p){L(g.$$.fragment,e);for(let e=0;e<v.length;e+=1)L(b[e]);L(x),L(w.$$.fragment,e),L(k),p=!0}},o(e){A(g.$$.fragment,e),b=b.filter(Boolean);for(let e=0;e<b.length;e+=1)A(b[e]);A(x),A(w.$$.fragment,e),A(k),p=!1},d(e){e&&d(t),q(g),function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(b,e),_&&_.d(),x&&x.d(),e&&d(a),q(w,e),e&&d(c),k&&k.d(e),e&&d(i)}}}function ht(e,t,n){let o,r;Oe.subscribe(e=>{n("isOpenBasketPopup",o=e)}),Re.subscribe(e=>{n("isOpenResultPopup",r=e)});let s={data:[],isLoaded:!1,isError:!1};Ce({method:"get",url:"api/v1/good"}).then(({data:e})=>e).then(e=>{n("goods",s.data=e,s),n("goods",s.isLoaded=!0,s)}).catch(e=>{console.log(e),n("goods",s.isLoaded=!0,s),n("goods",s.isError=!0,s)});return{isOpenBasketPopup:o,isOpenResultPopup:r,goods:s,good_good_binding:function(e,{good:t,each_value:o,good_index:r}){o[r]=e,n("goods",s)},func:()=>Oe.set(!1),func_1:()=>Re.set(!1)}}class mt extends M{constructor(e){super(),F(this,e,ht,pt,a,[])}}function gt(t){var n,o,r=new mt({});return{c(){n=f("main"),r.$$.fragment.c(),$(n,"class","main svelte-wtcttw")},m(e,t){l(e,n,t),T(r,n,null),o=!0},p:e,i(e){o||(L(r.$$.fragment,e),o=!0)},o(e){A(r.$$.fragment,e),o=!1},d(e){e&&d(n),q(r)}}}return new class extends M{constructor(e){super(),F(this,e,null,gt,a,[])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
